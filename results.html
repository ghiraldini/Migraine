<script>
	//Checks if there is at least 1 week gap between two dates.
     function compareDates() {       
         var startDate = new Date(document.getElementById("MigraineStartTimestamp").value);
         var endDate = new Date(document.getElementById("MigraineEndTimestamp").value);

         var sm = startDate.getMonth()+1;

		if(sm==4 || sm==6 || sm==9 || sm==11){
	        //End day number lower than start day number, and 1 month apart.
	        if ( endDate.getFullYear() >= startDate.getFullYear() &&
		            endDate.getMonth() > startDate.getMonth() && endDate.getMonth() - startDate.getMonth() == 1 &&
		        		endDate.getDate() < startDate.getDate() && endDate.getDate()-startDate.getDate() >= -23 &&
					        endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    )
	        {
			 			return true;
	        }
	        //End day number lower than start day number, and NOT 1 month apart.
	        else if ( endDate.getFullYear() >= startDate.getFullYear() &&
		            	endDate.getMonth() > startDate.getMonth() && endDate.getMonth() - startDate.getMonth() != 1 &&
		            		endDate.getDate() < startDate.getDate() &&
			        				endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    	)
			{
			 			return true;
	        }
	        //End day number higher than start day number or the same, any months.
	  		else if ( endDate.getFullYear() >= startDate.getFullYear() &&
			            endDate.getMonth() > startDate.getMonth() &&
			       			endDate.getDate() > startDate.getDate() || endDate.getDate() == startDate.getDate() &&
				        		endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    	)
	  		{
			 			return true;
	        }
	        //Months are the same
	       	else if ( endDate.getFullYear() >= startDate.getFullYear() &&
			            endDate.getMonth() == startDate.getMonth() &&
			            	endDate.getDate() > startDate.getDate() && endDate.getDate()-startDate.getDate() > 6 &&
				            	endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			        )
	       	{
			        	return true;	
	        } 
	        else {
	             alert ("Difference between End Date and Start Date has to be at least one week. Please try again.");
	             return false;
	        }
	    }

	    if(sm!=4 || sm!=6 || sm!=9 || sm!=11){
	        if ( endDate.getFullYear() >= startDate.getFullYear() &&
		            endDate.getMonth() > startDate.getMonth() && endDate.getMonth() - startDate.getMonth() == 1 &&
		        		endDate.getDate() < startDate.getDate() && endDate.getDate()-startDate.getDate() >= -24 &&
					        endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    )
	        {
			 			return true;
	        }
	        //End day number lower than start day number, and NOT 1 month apart.
	        else if ( endDate.getFullYear() >= startDate.getFullYear() &&
		            	endDate.getMonth() > startDate.getMonth() && endDate.getMonth() - startDate.getMonth() != 1 &&
		            		endDate.getDate() < startDate.getDate() &&
			        				endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    	)
			{
			 			return true;
	        }
	        //End day number higher than start day number or the same, any months.
	  		else if ( endDate.getFullYear() >= startDate.getFullYear() &&
			            endDate.getMonth() > startDate.getMonth() &&
			       			endDate.getDate() > startDate.getDate() || endDate.getDate() == startDate.getDate() &&
				        		endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			    	)
	  		{
			 			return true;
	        }
	        //Months are the same
	       	else if ( endDate.getFullYear() >= startDate.getFullYear() &&
			            endDate.getMonth() == startDate.getMonth() &&
			            	endDate.getDate() > startDate.getDate() && endDate.getDate()-startDate.getDate() > 6 &&
				            	endDate.getTime() > startDate.getTime() || endDate.getTime() < startDate.getTime() || endDate.getTime() == startDate.getTime()
			        )
	       	{
			        	return true;	
	        } 
	        else {
	             alert ("Difference between End Date and Start Date has to be at least one week. Please try again.");
	             return false;
	        }
    	}
    }
</script>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">  
  <title>Migraine Tracker</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- Bootstrap -->
	<link href="bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">

	<!-- Personal CSS -->
	<link rel="stylesheet" type="text/css" href="styles.css"/>
</head>

	<body>
		<!--Navigation menu bar-->
		<!--Citation: https://getbootstrap.com/components/#navbar-->
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<ul class="nav navbar-nav">
					<li><a href="home.php">Home</a></li>
					<li><a href="main.php">Migraine Form</a></li>
					<li><a href="results.html">Results</a></li>
				</ul>

				<ul class="nav navbar-nav navbar-right">
           			<li><a href="landing.html">Logout</a></li>
       			</ul>
			</div>
		</nav>

		<div class="formStyle">
			<h2>Most Common Triggers</h2>
				<form class="form-horizontal" role="form" name="migraineForm" method="post" onsubmit="return compareDates()" action="addAllData.php">
			

						<label class="labelStyle" for="text">UserScreenName:</label>					
						<input type="text" name="UserScreenName" id="UserScreenName" ><br>	
						<br>
				
						Please enter dates in the following format YYYY-MM-DD HH::MM:SS. For example, 2017-07-02 14::35:10
						<br>


						<label class="labelStyle" for="text">Migraine Start Date and Time:</label>
						<input type="datetime" name="MigraineStartTimestamp" id="MigraineStartTimestamp"> 
						<br>

						<label class="labelStyle" for="text">Migraine End Date and Time:</label>
						 <input type="datetime" name="MigraineEndTimestamp" id="MigraineEndTimestamp">
						<br>
					<div class="buttonAlign">
						<button type="button"" class="buttonStyle" id="migraineDataCancel" onclick="window.location='landing.html'">Cancel</button>
						<button type="submit" class="buttonStyle" id="migraineDataSubmit" value="Add Migraine Data" onclick="window.location='main.php'">Submit</button>
					</div>
				</form>

			<h2>Average Migraine Attack</h2>
				<form class="form-horizontal" role="form" name="migraineForm" method="post" onsubmit="return compareDates()" action="addAllData.php">

						<label class="labelStyle" for="text">UserScreenName:</label>					
						<input type="text" name="UserScreenName" id="UserScreenName" ><br>	
						<br>
				
						Please enter dates in the following format YYYY-MM-DD HH::MM:SS. For example, 2017-07-02 14::35:10
						<br>


						<label class="labelStyle" for="text">Migraine Start Date and Time:</label>
						<input type="datetime" name="MigraineStartTimestamp" id="MigraineStartTimestamp"> 
						<br>

						<label class="labelStyle" for="text">Migraine End Date and Time:</label>
						 <input type="datetime" name="MigraineEndTimestamp" id="MigraineEndTimestamp">
						<br>
					<div class="buttonAlign">
						<button type="button"" class="buttonStyle" id="migraineDataCancel" onclick="window.location='landing.html'">Cancel</button>
						<button type="submit" class="buttonStyle" id="migraineDataSubmit" value="Add Migraine Data" onclick="window.location='main.php'">Submit</button>
					</div>
				</form>

			
			<h2>Average Migraine Duration</h2>
				<form class="form-horizontal" role="form" name="migraineForm" method="post" onsubmit="return compareDates()" action="addAllData.php">
						<label class="labelStyle" for="text">UserScreenName:</label>					
						<input type="text" name="UserScreenName" id="UserScreenName" ><br>	
						<br>
				
						Please enter dates in the following format YYYY-MM-DD HH::MM:SS. For example, 2017-07-02 14::35:10
						<br>


						<label class="labelStyle" for="text">Migraine Start Date and Time:</label>
						<input type="datetime" name="MigraineStartTimestamp" id="MigraineStartTimestamp"> 
						<br>

						<label class="labelStyle" for="text">Migraine End Date and Time:</label>
						 <input type="datetime" name="MigraineEndTimestamp" id="MigraineEndTimestamp">
						<br>
					<div class="buttonAlign">
						<button type="button"" class="buttonStyle" id="migraineDataCancel" onclick="window.location='landing.html'">Cancel</button>
						<button type="submit" class="buttonStyle" id="migraineDataSubmit" value="Add Migraine Data" onclick="window.location='main.php'">Submit</button>
					</div>
				</form>

			<h2>Average Migraine Intensity</h2>
				<form class="form-horizontal" role="form" name="migraineForm" method="post" onsubmit="return compareDates()" action="addAllData.php">
						<label class="labelStyle" for="text">UserScreenName:</label>					
						<input type="text" name="UserScreenName" id="UserScreenName" ><br>	
						<br>
				
						Please enter dates in the following format YYYY-MM-DD HH::MM:SS. For example, 2017-07-02 14::35:10
						<br>


						<label class="labelStyle" for="text">Migraine Start Date and Time:</label>
						<input type="datetime" name="MigraineStartTimestamp" id="MigraineStartTimestamp"> 
						<br>

						<label class="labelStyle" for="text">Migraine End Date and Time:</label>
						 <input type="datetime" name="MigraineEndTimestamp" id="MigraineEndTimestamp">
						<br>
					<div class="buttonAlign">
						<button type="button"" class="buttonStyle" id="migraineDataCancel" onclick="window.location='landing.html'">Cancel</button>
						<button type="submit" class="buttonStyle" id="migraineDataSubmit" value="Add Migraine Data" onclick="window.location='main.php'">Submit</button>
					</div>
				</form>
		</div>
	</body>
</html>